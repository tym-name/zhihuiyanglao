import{T}from"./table-B1my3jl3.js";import{p as I}from"./purchase-DW_F8sb8.js";import{c as L}from"./company-Cx-MsYTh.js";import{d as M,r as p,k as N,a as n,n as v,b as u,w as l,e as t,f as i,c as y,F as g,x as k,u as B,Q as P,_ as R}from"./index-D6YPj1KB.js";const U=M({__name:"Purchase",setup(F){const o=p({pageSize:10,page:1,companyId:"",state:"",beginDate:"",endDate:""}),h=[{type:"selection",width:"50"},{label:"序号",prop:"id",width:"100px"},{label:"创建时间",prop:"addTime"},{label:"申请人",prop:"addAccountName"},{label:"机构名称",prop:"companyName"},{label:"品种数",prop:"counts"},{label:"期望到货日期",prop:"receiveTime"},{label:"状态",prop:"state"},{label:"操作",slot:"operate",width:180,fixed:"right"}],x=[{value:"已经发货",label:"已经发货"},{value:"待提交",label:"待提交"}],f=p([]),D=N({name:""});(async()=>{const r=await L(D);console.log("机构列表",r),f.value=r.data.list})();const d=p([]),V=async()=>{o.value.companyId="",d.value=[],o.value.state="",o.value.beginDate="",o.value.endDate="",m.value&&m.value.refresh()},m=p(),w=r=>{P.push({name:"PurchaseDetail",params:{id:r}})};return(r,a)=>{const _=n("el-option"),b=n("el-select"),s=n("el-form-item"),Y=n("el-date-picker"),c=n("el-button"),C=n("el-form");return u(),v(T,{ref_key:"tableRef",ref:m,columns:h,"init-params":o.value,"fetch-data":B(I)},{search:l(()=>[t(C,{model:o.value,"label-width":"auto",inline:""},{default:l(()=>[t(s,{label:"机构名称："},{default:l(()=>[t(b,{modelValue:o.value.companyId,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.companyId=e),placeholder:"请选择",style:{width:"180px"},clearable:""},{default:l(()=>[(u(!0),y(g,null,k(f.value,e=>(u(),v(_,{label:e.name,value:e.name},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(s,{label:"期待到货日期："},{default:l(()=>[t(Y,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=e=>d.value=e),type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间",style:{width:"350px"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",clearable:""},null,8,["modelValue"])]),_:1}),t(s,{label:"状态："},{default:l(()=>[t(b,{modelValue:o.value.state,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.state=e),placeholder:"请选择",style:{width:"180px"},clearable:""},{default:l(()=>[(u(),y(g,null,k(x,e=>t(_,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(s,null,{default:l(()=>[t(c,{type:"primary"},{default:l(()=>[...a[3]||(a[3]=[i("查询",-1)])]),_:1}),t(c,{onClick:V},{default:l(()=>[...a[4]||(a[4]=[i("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),operate:l(({row:e})=>[t(c,{link:"",type:"primary",onClick:A=>w(e.id)},{default:l(()=>[...a[5]||(a[5]=[i("查看详情",-1)])]),_:1},8,["onClick"])]),_:1},8,["init-params","fetch-data"])}}}),j=R(U,[["__scopeId","data-v-56baf07d"]]);export{j as default};
