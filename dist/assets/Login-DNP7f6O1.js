import{d as A,r as p,a as s,c as V,b as _,g as n,e as o,u as b,a2 as Q,a3 as h,_ as C,k,a1 as I,w as t,f as E,a4 as R,Y as j,Q as M,h as q,n as F}from"./index-D6YPj1KB.js";const L="/dist/assets/login_title-BwVHLo0e.png",N={id:"header"},J={class:"right"},z=A({__name:"header",setup(f){const i=p(!1);return(m,a)=>{const r=s("el-switch");return _(),V("div",N,[a[2]||(a[2]=n("img",{src:L,class:"img_title",alt:"",srcset:""},null,-1)),n("div",J,[o(r,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=l=>i.value=l),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":b(h),"inactive-icon":b(Q)},null,8,["modelValue","active-icon","inactive-icon"]),a[1]||(a[1]=n("i",{class:"icon iconfont icon-fanyi"},null,-1))])])}}}),D=C(z,[["__scopeId","data-v-e0538c30"]]),H={},K={id:"footer"};function X(f,i){return _(),V("div",K,[...i[0]||(i[0]=[n("span",null," 版权所有 ◎ 2021 -2024 youlai.tech 保留所有权利。皖ICP备20006496号-2 ",-1)])])}const P=C(H,[["render",X],["__scopeId","data-v-77692ad0"]]),W="/dist/assets/login_bg-BhkCABSr.jpg",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQBAMAAAAVaP+LAAAAElBMVEVHcEx6pf96pf96o/96o/97o/8Pt1s1AAAABXRSTlMAfz/dXxFC4+EAAAEeSURBVGje7djRbcJAEEXReYgO0DSAlApcAiWg7b8VfpwI22sSdm8sVnr3M6CjQZDJhAjnnHMDlqWUiCjraj97emybKCiSgkRBkRQkCoqkIFFQvICqTzwE2sMNfTSU+2//4oP4KyQKWo/UDomCViN1QKKg5Ug90Ok6l53QT1+GXnSbpgmBVMqdeWlJQaKgSAoSBcVlAzXu7DMFhaFDIWH3Ubaffn+6vd+Hdm7vBkgUVL+9WyBRUHwk5Aat/j+goc2hS0CioPqXOdE4EgJV/6BE40gM5Eb+rvL5d6UZEgV9j9QPiYLmkQBIFLRcldE7EgEtVmX0joRA86oEErYZk4KE7eqkIP3HwWRoJCgpSNg1khQk7D7yXhp3LznnnDuqB9Ji/xpvUnncAAAAAElFTkSuQmCC",O={id:"Main"},T={class:"login_form"},Y=["src"],G=A({__name:"main",setup(f){const i=p(!0),m=p(!1),a=p(),r=p(void 0),l=k({username:"cpglyzh",pwd:"cpglyzh",verifyCode:"",verifyCodeId:""}),g=k({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}],verifyCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}),y=async()=>{let c=await R();console.log("图形验证码",c),a.value=c.data.imageCode,l.verifyCodeId=c.data.id};y();const w=async()=>{r.value&&r.value.validate(async c=>{if(c){m.value=!0;try{let e=JSON.parse(JSON.stringify(l));const u=await j().userLogin(e);console.log("登录成功",u),u&&M.push("/")}catch{q.error("登录失败，请检查账号密码"),y()}finally{m.value=!1}}})};return(c,e)=>{const u=s("el-input"),v=s("el-form-item"),x=s("el-checkbox"),B=s("el-button"),S=s("el-form"),U=s("el-divider");return _(),V("div",O,[e[11]||(e[11]=n("img",{class:"login_bg",src:W,alt:"",srcset:""},null,-1)),n("div",T,[e[9]||(e[9]=n("div",{class:"form_title"},[n("div",{class:"title"},"账号登录"),n("img",{class:"QRcode",src:$,alt:"",srcset:""})],-1)),o(S,{ref_key:"loginFormRef",ref:r,model:l,rules:g,"label-width":"auto"},{default:t(()=>[o(v,{prop:"username"},{default:t(()=>[o(u,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=d=>l.username=d),placeholder:"用户名"},{prefix:t(()=>[...e[4]||(e[4]=[n("i",{class:"icon iconfont icon-icon-user"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),o(v,{prop:"password"},{default:t(()=>[o(u,{modelValue:l.pwd,"onUpdate:modelValue":e[1]||(e[1]=d=>l.pwd=d),type:"password",placeholder:"密码"},{prefix:t(()=>[...e[5]||(e[5]=[n("i",{class:"icon iconfont icon-jiesuo"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),o(v,{prop:"imgcode"},{default:t(()=>[o(u,{modelValue:l.verifyCode,"onUpdate:modelValue":e[2]||(e[2]=d=>l.verifyCode=d),placeholder:"验证码"},{prefix:t(()=>[...e[6]||(e[6]=[n("i",{class:"icon iconfont icon-anquanzhongxin"},null,-1)])]),suffix:t(()=>[n("img",{class:"imageCode",src:a.value,alt:"",srcset:""},null,8,Y)]),_:1},8,["modelValue"])]),_:1}),n("div",null,[o(x,{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=d=>i.value=d),label:"记住我",size:"large"},null,8,["modelValue"])]),o(B,{type:"primary",loading:m.value,onClick:w},{default:t(()=>[...e[7]||(e[7]=[E(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model","rules"]),o(U,null,{default:t(()=>[...e[8]||(e[8]=[E(" 其他登录方式 ",-1)])]),_:1}),e[10]||(e[10]=I('<div class="other" data-v-b4a703d7><i class="icon iconfont icon-weixin" data-v-b4a703d7></i><i class="icon iconfont icon-QQ" data-v-b4a703d7></i><i class="icon iconfont icon-shouji" data-v-b4a703d7></i><i class="icon iconfont icon-guge" data-v-b4a703d7></i></div>',1))])])}}}),Z=C(G,[["__scopeId","data-v-b4a703d7"]]),oe=A({__name:"Login",setup(f){return(i,m)=>{const a=s("el-header"),r=s("el-main"),l=s("el-footer"),g=s("el-container");return _(),F(g,null,{default:t(()=>[o(a,null,{default:t(()=>[o(D)]),_:1}),o(r,null,{default:t(()=>[o(Z)]),_:1}),o(l,null,{default:t(()=>[o(P)]),_:1})]),_:1})}}});export{oe as default};
