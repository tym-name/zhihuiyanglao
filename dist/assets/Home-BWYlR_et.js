import{d as U,a0 as z,r as E,o as R,c as g,F as x,f as n,e as t,u as h,M as b,g as r,b as a,w as s,v as I,n as m,a1 as S,t as k,a as u,_ as D,B as V,p as N,a2 as T,a3 as F,h as H,E as M}from"./index-DSXWNbz6.js";const j="/dist/assets/logo-B149UREi.png",q={class:"text"},G=U({__name:"leftAside",setup(L){const f=z(),y=b(),d=E([]),v=E([]),p=E([]);R(async()=>{await f.getMenu(),d.value=f.meuns,e()});const e=()=>{v.value=[],p.value=[],d.value.length&&d.value.forEach(i=>{const l=i.children||[];if(l.length===1){const _=l[0];v.value.push({..._,parentId:i.id,parentUrl:i.url,parentIcon:i.icon})}else p.value.push({...i})})},$=i=>{i&&y.push({path:i}).catch(l=>{console.warn("菜单路由跳转失败：",l)})};return(i,l)=>{const _=a("el-icon"),w=a("el-menu-item"),B=a("el-sub-menu"),C=a("el-menu");return u(),g(x,null,[l[2]||(l[2]=n("div",{class:"logo"},[n("img",{src:j,alt:""}),n("div",{class:"title"},"乐康智慧养老系统")],-1)),n("div",q,[n("div",{class:"titles",onClick:l[0]||(l[0]=o=>h(y).push("/homeview"))},[...l[1]||(l[1]=[n("i",{style:{"margin-left":"-26px","margin-right":"5px"},class:"iconfont icon-shouye"},null,-1),r("首页",-1)])]),t(C,{"default-active":"2",class:"el-menu-vertical-demo",onSelect:$},{default:s(()=>[(u(!0),g(x,null,I(v.value,o=>(u(),m(w,{index:`/${o.parentUrl}/${o.url}`,key:o.id},{default:s(()=>[t(_,null,{default:s(()=>[n("span",{class:S(["iconfont",o.icon||o.parentIcon])},null,2)]),_:2},1024),n("span",null,k(o.name),1)]),_:2},1032,["index"]))),128)),(u(!0),g(x,null,I(p.value,o=>(u(),m(B,{index:o.id,key:o.id},{title:s(()=>[t(_,null,{default:s(()=>[n("span",{class:S(["iconfont",o.icon])},null,2)]),_:2},1024),n("span",null,k(o.name),1)]),default:s(()=>[(u(!0),g(x,null,I(o.children,c=>(u(),m(w,{index:`/${o.url}/${c.url}`,key:c.id},{default:s(()=>[n("span",{class:S(["iconfont",c.icon])},null,2),r(" "+k(c.name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"]))),128))]),_:1})])],64)}}}),K=D(G,[["__scopeId","data-v-70efd740"]]),J={class:"common-layout"},O={class:"card-header"},P={class:"icons"},Q={class:"login"},W=["src"],X=U({__name:"Home",setup(L){const f=z(),y=()=>{H.confirm("确定注销并退出系统吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{M({type:"success",message:"退出登录成功"}),f.logout(),V.push("/login").then(()=>{window.location.reload()})})},d=f.model,v="http://123.57.237.81:8080/caresystem/";return(p,e)=>{const $=a("el-aside"),i=a("el-dropdown-item"),l=a("el-dropdown-menu"),_=a("el-dropdown"),w=a("el-card"),B=a("el-header"),C=a("router-view"),o=a("el-main"),c=a("el-container");return u(),g("div",J,[t(c,null,{default:s(()=>[t($,null,{default:s(()=>[t(K)]),_:1}),t(c,null,{default:s(()=>[t(B,null,{default:s(()=>[t(w,{style:{"max-width":"100%"}},{header:s(()=>[n("div",O,[e[9]||(e[9]=n("div",{class:"title"},[n("span",{class:"iconfont icon-zhankai zhankai"}),n("span",{class:"shouye"},"首页"),r("/"),n("span",{class:"jigouguanli"},"机构管理"),r("/"),n("span",{class:"list"},"机构列表")],-1)),n("div",P,[e[3]||(e[3]=n("span",{class:"iconfont icon-chaxun"},null,-1)),e[4]||(e[4]=n("span",{class:"iconfont icon-quanping"},null,-1)),e[5]||(e[5]=n("span",{class:"iconfont icon-daxiaoxie"},null,-1)),e[6]||(e[6]=n("span",{class:"iconfont icon-wen-A"},null,-1)),e[7]||(e[7]=n("span",{class:"iconfont icon-lingdang"},null,-1)),t(_,{style:{outline:"unset"}},{dropdown:s(()=>[t(l,null,{default:s(()=>[t(i,{onClick:e[0]||(e[0]=A=>h(V).push("system/account-set"))},{default:s(()=>[...e[1]||(e[1]=[r("个人中心",-1)])]),_:1}),t(i,{onClick:y},{default:s(()=>[...e[2]||(e[2]=[r("注销登出",-1)])]),_:1})]),_:1})]),default:s(()=>[n("div",Q,[n("img",{src:h(v)+h(d).photo,style:{"margin-right":"5px","border-radius":"50%"},alt:""},null,8,W),n("div",null,k(h(d).username),1)])]),_:1}),e[8]||(e[8]=n("span",{class:"iconfont icon-set"},null,-1))])])]),default:s(()=>[e[10]||(e[10]=n("div",{class:"tits"},[n("div",{class:"home"},"首页"),n("div",{class:"tits_list"},[n("span",{class:"dian"},"·"),r("机构列表"),n("span",{class:"iconfont icon-cheng cha"})])],-1))]),_:1})]),_:1}),t(o,{style:{"background-color":"#f2f3f5"}},{default:s(()=>[t(C,null,{default:s(({Component:A})=>[(u(),m(F,null,[p.$route.meta.keepAlive?(u(),m(T(A),{key:0})):N("",!0)],1024)),p.$route.meta.keepAlive?N("",!0):(u(),m(T(A),{key:0}))]),_:1})]),_:1})]),_:1})]),_:1})])}}}),Z=D(X,[["__scopeId","data-v-36994345"]]);export{Z as default};
