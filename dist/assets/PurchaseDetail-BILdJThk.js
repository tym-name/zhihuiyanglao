import{d as P,r as h,c as I,e,g as v,w as a,a as n,u as A,Q as C,F,R as T,h as $,f as s,v as c,b as k,_ as B}from"./index-D6YPj1KB.js";import{a as E,b as V}from"./purchase-DW_F8sb8.js";const L=["src"],R={style:{display:"flex","justify-content":"center"}},G=P({__name:"PurchaseDetail",setup(M){const u=h({id:0,companyId:0,receiveTime:"",addTime:"",addAccountId:0,picture:"",remarks:"",state:"",addAccountName:"",companyName:"",counts:0,purchasePrice:0,foods:null}),f=T();(async()=>{const t=f.params.id;if(!t){$.error("ID参数缺失");return}const o=await E({id:Number(t)});o&&o.data&&(u.value=o.data),await w()})();const p=h([]),_=t=>!t&&t!==0?"":`${t.toFixed()}`,w=async()=>{const t=f.params.id;if(!t)return;const o=await V({id:Number(t)});console.log("采购物品列表响应:",o);const r=o.data;r.list&&Array.isArray(r.list)&&(p.value=r.list.map(i=>({...i,id:i.id}))),console.log("处理后的采购物品列表:",p.value)},m=void 0,y=t=>t?t.startsWith("http://")?t:t.startsWith("/")?`${m}${t}`:`${m}/${t}`:"";return(t,o)=>{const r=n("el-form-item"),i=n("el-form"),b=n("el-col"),x=n("el-row"),l=n("el-table-column"),g=n("el-table"),N=n("el-card"),D=n("el-button");return k(),I(F,null,[e(N,null,{default:a(()=>[e(x,{gutter:20},{default:a(()=>[e(b,{span:12},{default:a(()=>[e(i,{"label-width":"auto"},{default:a(()=>[e(r,{label:"创建时间:"},{default:a(()=>[s(c(u.value.addTime),1)]),_:1}),e(r,{label:"申请人:"},{default:a(()=>[s(c(u.value.addAccountName),1)]),_:1}),e(r,{label:"品种数:"},{default:a(()=>[s(c(u.value.counts),1)]),_:1}),e(r,{label:"实际采购时间:"},{default:a(()=>[s(c(u.value.receiveTime),1)]),_:1})]),_:1})]),_:1}),e(b,{span:12,style:{"font-weight":"bold","font-size":"25px"}},{default:a(()=>[s(c(u.value.state),1)]),_:1})]),_:1}),e(g,{data:p.value,style:{width:"100%"}},{default:a(()=>[e(l,{prop:"id",label:"序号"}),e(l,{prop:"foodName",label:"物料名称"}),e(l,{prop:"unit",label:"单位"}),e(l,{prop:"supplierName",label:"供应商"}),e(l,{prop:"wholePrice",label:"批发价"},{default:a(({row:d})=>[s(c(_(d.wholePrice)),1)]),_:1}),e(l,{prop:"sellPrice",label:"零售价"},{default:a(({row:d})=>[s(c(_(d.sellPrice)),1)]),_:1}),e(l,{prop:"purchasePrice",label:"采购价"},{default:a(({row:d})=>[s(c(_(d.purchasePrice)),1)]),_:1}),e(l,{prop:"purchaseCounts",label:"采购数量"}),e(l,{prop:"receiveCounts",label:"实际到货数量"})]),_:1},8,["data"]),v("img",{src:y(u.value.picture),alt:"到货凭证",style:{"max-width":"200px","max-height":"200px"}},null,8,L)]),_:1}),v("div",R,[e(D,{onClick:o[0]||(o[0]=d=>A(C).back())},{default:a(()=>[...o[1]||(o[1]=[s("返回",-1)])]),_:1})])],64)}}}),j=B(G,[["__scopeId","data-v-cfac4894"]]);export{j as default};
