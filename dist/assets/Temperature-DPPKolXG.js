import{T as H}from"./table-BDVlGf5e.js";import{t as j,a as I,b as L}from"./temperature-D_kE8odB.js";import{d as k,i as G,b as d,n as q,a as h,w as a,c as C,F as J,v as K,e as l,_ as T,r as u,g as m,f as _,u as O,h as Q,E as V}from"./index-DSXWNbz6.js";import{_ as W}from"./TemperatureAdd.vue_vue_type_script_setup_true_lang-DgHk93UR.js";import{_ as X}from"./TemperatureUpd.vue_vue_type_script_setup_true_lang-BW-aRYFD.js";import"./TemperatureSelect-Cfwk2-k6.js";import"./elderly-p1gfo6w8.js";const Z=k({__name:"examine",props:{modelValue:{default:""},modelModifiers:{}},emits:["update:modelValue"],setup(y){const n=G(y,"modelValue"),i=[{value:"未返回",label:"未返回"},{value:"已返回",label:"已返回"},{value:"逾期未返回",label:"逾期未返回"}];return(c,f)=>{const s=d("el-option"),b=d("el-select");return h(),q(b,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=r=>n.value=r),placeholder:"请选择状态",style:{width:"300px"},clearable:""},{default:a(()=>[(h(),C(J,null,K(i,r=>l(s,{key:r.value,label:r.label,value:r.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])}}}),P=T(Z,[["__scopeId","data-v-b62622c9"]]),ee=k({__name:"Temperature",setup(y){const n=u(null),i=u(!1),c=u(!1),f=u({page:"1",pageSize:"15"}),s=u({name:"",stute:"",date:""}),b=(t,e)=>{e.date||(e.date=[]),e.date[0]=t[0],e.date[1]=t[1],e.startTime=t[0],e.beginDate=t[0],e.endDate=t[1]},r=async t=>{Q.confirm("是否删除该条记录？",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(async()=>{V({type:"success",message:"删除成功"}),await I(t),n.value?.refresh()}).catch(()=>{V({type:"info",message:"已取消删除"})})},g=u(null),D=async t=>{try{const e=await L(t.id);console.log("单条体温数据",e),g.value=e.data,c.value=!0}catch(e){console.error("获取单条体温记录失败：",e),V.error("获取记录详情失败，请稍后重试")}},w=()=>{n.value?.refresh()},S=()=>{i.value=!0},B=()=>{i.value=!1,n.value?.refresh()},A=()=>{c.value=!1,g.value=null,n.value?.refresh()},x=u(!0),M=u([]),N=t=>{console.log("rows",t),M.value=t,x.value=t.length===0},U=()=>{n.value?.refresh()},z=()=>{s.value={name:"",stute:"",mobile:""},f.value={page:"1",pageSize:"15"},n.value&&n.value.fetchData(f.value)},$=[{type:"selection",width:"50"},{label:"序号",prop:"id",width:"100px"},{label:"统计日期",prop:"addTime"},{label:"记录人",prop:"addAccountName"},{label:"老人姓名",prop:"elderlyName"},{label:"床位",prop:"begName"},{label:"体温",prop:"val"},{label:"操作",slot:"operate",width:180,fixed:"right"}];return(t,e)=>{const p=d("el-button"),E=d("el-input"),v=d("el-form-item"),R=d("el-date-picker"),Y=d("el-form");return h(),C("div",null,[l(H,{ref_key:"tableRef",ref:n,onHandleSelectionChange:N,columns:$,"init-params":s.value,"fetch-data":O(j)},{buttons:a(()=>[l(p,{type:"success",onClick:S},{default:a(()=>[...e[6]||(e[6]=[_("i",{class:"iconfont icon-jia"},null,-1),m("添加",-1)])]),_:1}),l(p,{type:"danger",disabled:x.value},{default:a(()=>[...e[7]||(e[7]=[_("i",{style:{"margin-right":"5px"},class:"iconfont icon-shanchu"},null,-1),m("批量删除",-1)])]),_:1},8,["disabled"])]),operate:a(({row:o})=>[l(p,{link:"",type:"primary",onClick:F=>D(o)},{default:a(()=>[...e[8]||(e[8]=[_("span",{style:{"font-size":"14px","margin-right":"5px"},class:"iconfont icon-bianji"},null,-1),m("编辑",-1)])]),_:1},8,["onClick"]),l(p,{link:"",type:"danger",onClick:F=>r(o.id)},{default:a(()=>[...e[9]||(e[9]=[_("span",{style:{"font-size":"14px","margin-right":"5px"},class:"iconfont icon-shanchu"},null,-1),m("删除",-1)])]),_:1},8,["onClick"])]),search:a(()=>[l(Y,{inline:!0,class:"demo-form-inline"},{default:a(()=>[l(v,{label:"老人姓名:"},{default:a(()=>[l(E,{placeholder:"请输入老人姓名",modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.name=o),clearable:""},null,8,["modelValue"])]),_:1}),l(v,{label:"审批状态:"},{default:a(()=>[l(P,{modelValue:s.value.stute,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.stute=o)},null,8,["modelValue"])]),_:1}),l(v,{label:"外出时间:"},{default:a(()=>[l(R,{type:"daterange","value-format":"YYYY-MM-DD","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"200px"},size:"default",onChange:e[2]||(e[2]=o=>b(o,s.value)),modelValue:s.value.date,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.date=o)},null,8,["modelValue"])]),_:1}),l(v,null,{default:a(()=>[l(p,{type:"primary",onClick:U},{default:a(()=>[...e[10]||(e[10]=[m("查询",-1)])]),_:1}),l(p,{onClick:z},{default:a(()=>[...e[11]||(e[11]=[m("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["init-params","fetch-data"]),l(W,{onAddRefresh:w,modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=o=>i.value=o),onHandleSuccess:B},null,8,["modelValue"]),l(X,{modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=o=>c.value=o),onHandleSuccess:A,"edit-data":g.value},null,8,["modelValue","edit-data"])])}}}),re=T(ee,[["__scopeId","data-v-01a0358c"]]);export{re as default};
