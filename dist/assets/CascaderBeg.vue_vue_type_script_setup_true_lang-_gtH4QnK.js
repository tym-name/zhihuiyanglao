import{b as h}from"./building-CNUBr-fR.js";import{c as v}from"./convertToTree-Coeds9PE.js";import{h as C}from"./house-0UauvkXi.js";import{d as b,r as m,o as _,n as B,b as L,u as g,P as y,a as P}from"./index-DSXWNbz6.js";const S=(s,p)=>{if(!s||s.length===0)return[];const l=(o,t,f=[])=>{for(const a of o){const i=[...f,a.value];if(a.value===t)return i;if(a.children?.length){const d=l(a.children,t,i);if(d)return d}}return[]};return l(s,p)},H=b({__name:"CascaderBeg",props:{type:{},id:{}},emits:["bedChange"],setup(s,{emit:p}){const l=s;let o=m([]),t=m([]);const f={page:1,pageSize:10};let a=async()=>{let n=await h();(await C(f)).data.list.forEach(e=>{n.data.list.push(e)}),o.value=v(n.data.list);const u=e=>e.map(c=>({label:c.name,value:c.id.toString(),children:c.children?u(c.children):void 0}));if(o.value=u(o.value),l.id){let e=S(o.value,l.id.toString());console.log(e,"123"),t.value=e,console.log(e.toString().split(","))}},i=p,d=n=>{console.log(n),i("bedChange",n)};return _(()=>{a()}),(n,r)=>{const u=L("el-cascader");return P(),B(u,{style:{width:"100%"},modelValue:g(t),"onUpdate:modelValue":r[0]||(r[0]=e=>y(t)?t.value=e:t=e),onChange:r[1]||(r[1]=e=>g(d)(e)),options:g(o),placeholder:"请选择"},null,8,["modelValue","options"])}}});export{H as _};
