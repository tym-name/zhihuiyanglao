import{T}from"./table-BDVlGf5e.js";import{h as D,a as V,b as w}from"./house-0UauvkXi.js";import{_ as E}from"./HouseTypeAdd.vue_vue_type_script_setup_true_lang-nmxlHfBh.js";import{d as S,r as l,b as N,c as $,a as v,e as o,n as j,p as A,w as a,f as r,g as d,u as H,h,E as p,_ as M}from"./index-DSXWNbz6.js";const R=S({__name:"HouseType",setup(I){const f=l(!0),n=l(!1),s=l(null),m=l(void 0),y=()=>{m.value=void 0,n.value=!0},g=t=>{m.value=t,n.value=!0},b=()=>{s.value?.refresh()},_=t=>{h.confirm("是否删除该条记录？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await V(t),p({type:"success",message:"删除成功"}),s.value?.refresh()}).catch(()=>{p({type:"info",message:"已取消删除"})})},k=t=>{console.log("选中的数据：",t),i.value=t,f.value=t.length===0},i=l([]),C=()=>{i.value.length!==0&&h.confirm(`是否删除选中的 ${i.value.length} 条记录？`,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const t=i.value.map(e=>e.id);await w(t),p({type:"success",message:"批量删除成功"}),s.value?.getData(),f.value=!0}).catch(()=>{p({type:"info",message:"已取消删除"})})},x=[{type:"selection",width:"50"},{label:"序号",prop:"id",width:"100px"},{label:"姓名",prop:"name"},{label:"操作",slot:"operate",width:180,fixed:"right"}];return(t,e)=>{const c=N("el-button");return v(),$("div",null,[o(T,{ref_key:"tableRef",ref:s,onSelectionChange:k,columns:x,"fetch-data":H(D)},{buttons:a(()=>[o(c,{type:"success",onClick:y},{default:a(()=>[...e[1]||(e[1]=[r("i",{class:"iconfont icon-jia"},null,-1),d("新增护理服务",-1)])]),_:1}),o(c,{type:"danger",onClick:C,disabled:f.value},{default:a(()=>[...e[2]||(e[2]=[r("i",{class:"iconfont icon-shanchu"},null,-1),d("批量删除 ",-1)])]),_:1},8,["disabled"])]),operate:a(({row:u})=>[o(c,{link:"",type:"primary",onClick:B=>g(u)},{default:a(()=>[...e[3]||(e[3]=[r("i",{class:"iconfont icon-bianji"},null,-1),d("编辑",-1)])]),_:1},8,["onClick"]),o(c,{link:"",type:"danger",onClick:B=>_(u.id)},{default:a(()=>[...e[4]||(e[4]=[r("i",{class:"iconfont icon-shanchu"},null,-1),d("删除 ",-1)])]),_:1},8,["onClick"])]),_:1},8,["fetch-data"]),n.value?(v(),j(E,{key:0,onSaveSuccess:b,"edit-data":m.value,modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=u=>n.value=u)},null,8,["edit-data","modelValue"])):A("",!0)])}}}),F=M(R,[["__scopeId","data-v-02729e02"]]);export{F as default};
