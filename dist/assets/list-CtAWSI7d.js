import{M as _}from"./exam-DpiyGpub.js";import{d as h,k as m,r as g,b as c,c as v,a as b,e as s,w as i}from"./index-DSXWNbz6.js";const y=h({__name:"list",setup(w){const d=m({name:"",menuIds:[]}),p=m({name:[{required:!0,message:"Please input Activity name",trigger:"blur"}],menuIds:[{required:!0,message:"Please select Activity zone",trigger:"change"}]}),u=g([]);(async()=>{let l=await _();console.log(l);const o=l.data.list;u.value=f(o)})();const f=l=>{const o=new Map;l.forEach(e=>{o.set(e.id,{...e})});const r=[];l.forEach(e=>{const t=o.get(e.id);if(e.pid===0)r.push(t);else{const n=o.get(e.pid);n&&(n.children||(n.children=[]),n.children.push(t))}});const a=e=>{e.sort((t,n)=>t.sort-n.sort),e.forEach(t=>{t.children&&t.children.length>0&&a(t.children)})};return a(r),r};return(l,o)=>{const r=c("el-input"),a=c("el-form-item"),e=c("el-tree"),t=c("el-form");return b(),v("div",null,[s(t,{ref:"ruleFormRef",model:d,rules:p,"label-width":"auto",style:{"max-width":"600px"}},{default:i(()=>[s(a,{label:"角色名称",prop:"name"},{default:i(()=>[s(r,{modelValue:d.name,"onUpdate:modelValue":o[0]||(o[0]=n=>d.name=n),placeholder:"请输入角色名称"},null,8,["modelValue"])]),_:1}),s(a,{label:"角色名称",prop:"name"},{default:i(()=>[s(e,{data:u.value,"show-checkbox":"","node-key":"id",props:{label:"name",children:"children"},"default-expand-all":!1},null,8,["data"])]),_:1})]),_:1},8,["model","rules"])])}}});export{y as default};
