import{d as T,r as v,k as U,a as n,n as q,b as f,w as t,e as l,c as g,F as V,x as w,f as d,t as $,v as P,u as M}from"./index-D6YPj1KB.js";import{_ as B}from"./ClothesDialog.vue_vue_type_script_setup_true_lang-Csnb141d.js";import{T as R}from"./table-B1my3jl3.js";const G=T({__name:"AddEditClothes",setup(C){const k=v(!1),I=[{value:"未解决"},{value:"已解决"}],r=[{value:"错衣"},{value:"缺衣"}],y=v(),s=U({id:0,companyId:0,elderlyId:0,title:"",content:"",type:"",state:"",addTime:"",addAccountId:0,addAccountName:"",begName:null,elderlyName:null,elderlyPhoto:null,elderlyGender:null,elderlyIdCard:null,houseName:null,buildingName:"",pictures:[]}),x=U({elderlyName:{required:!0,message:"Please input Activity name",trigger:"blur"},title:{required:!0,message:"Please input Activity name",trigger:"blur"},type:{required:!0,message:"Please input Activity name",trigger:"blur"},state:{required:!0,message:"Please input Activity name",trigger:"blur"},content:{required:!0,message:"Please input Activity name",trigger:"blur"},pictures:{required:!0,message:"Please input Activity name",trigger:"blur"}}),A=async i=>{i&&await i.validate((e,p)=>{e?console.log("submit!"):console.log("error submit!",p)})},_=i=>{i&&i.resetFields()};return(i,e)=>{const p=n("el-button"),u=n("el-form-item"),N=n("el-input"),b=n("el-option"),c=n("el-select"),m=n("el-form"),F=n("el-dialog");return f(),q(F,{modelValue:k.value,"onUpdate:modelValue":e[4]||(e[4]=o=>k.value=o),title:"修改洗衣错衣"},{default:t(()=>[l(m,{ref_key:"ruleFormRef",ref:y,model:s,rules:x,"label-width":"auto"},{default:t(()=>[l(u,{label:"老人姓名",prop:"name",style:{width:"180px"}},{default:t(()=>[l(p)]),_:1}),l(u,{label:"标题",prop:"name"},{default:t(()=>[l(N,{modelValue:s.title,"onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),l(u,{label:"类型",prop:"region"},{default:t(()=>[l(c,{placeholder:"请选择类型",clearable:"",style:{width:"180px"}},{default:t(()=>[(f(),g(V,null,w(r,o=>l(b,{key:o,label:o.value,value:o.value},null,8,["label","value"])),64))]),_:1})]),_:1}),l(u,{label:"状态",prop:"region"},{default:t(()=>[l(c,{placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:t(()=>[(f(),g(V,null,w(I,o=>l(b,{key:o,label:o.value,value:o.value},null,8,["label","value"])),64))]),_:1})]),_:1}),l(u,{label:"内容",prop:"name"},{default:t(()=>[l(N,{type:"textarea",modelValue:s.content,"onUpdate:modelValue":e[1]||(e[1]=o=>s.content=o),placeholder:"请输入内容"},null,8,["modelValue"])]),_:1}),l(u,{label:"图片",prop:"name"},{default:t(()=>[l(p,{type:"primary"},{default:t(()=>[...e[5]||(e[5]=[d("选择照片",-1)])]),_:1})]),_:1}),l(u,null,{default:t(()=>[l(p,{onClick:e[2]||(e[2]=o=>_(y.value))},{default:t(()=>[...e[6]||(e[6]=[d("取消",-1)])]),_:1}),l(p,{type:"primary",onClick:e[3]||(e[3]=o=>A(y.value))},{default:t(()=>[...e[7]||(e[7]=[d(" 提交 ",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}}),L=C=>$.get("/clothes/list",C),E=T({__name:"Clothes",setup(C){const k=[{value:"未解决"},{value:"已解决"}],I=[{value:"错衣"},{value:"缺衣"}],r=U({id:0,companyId:0,elderlyId:0,title:"",content:"",type:"",state:"",addTime:"",addAccountId:0,addAccountName:"",begName:null,elderlyName:null,elderlyPhoto:null,elderlyGender:null,elderlyIdCard:null,houseName:null,buildingName:"",pictures:[]}),y=[{type:"selection",width:"50"},{label:"序号",prop:"id",width:"100px"},{label:"标题",slot:"title"},{label:"发布人",prop:"elderlyName"},{label:"发布时间",prop:"addTime"},{label:"类型",prop:"type"},{label:"状态",slot:"state"},{label:"操作",slot:"operate",width:180,fixed:"right"}],s=v(!1),x=v(),A=i=>{x.value=i,s.value=!0},_=v(!1);return(i,e)=>{const p=n("el-input"),u=n("el-form-item"),N=n("el-date-picker"),b=n("el-option"),c=n("el-select"),m=n("el-button"),F=n("el-form"),o=n("el-card"),Y=n("el-text");return f(),g(V,null,[l(o,{style:{"margin-bottom":"10px"}},{default:t(()=>[l(F,{model:r,"label-width":"auto",inline:""},{default:t(()=>[l(u,{label:"发布人"},{default:t(()=>[l(p,{modelValue:r.elderlyName,"onUpdate:modelValue":e[0]||(e[0]=a=>r.elderlyName=a),clearable:"",placeholder:"请输入姓名",style:{width:"180px"}},null,8,["modelValue"])]),_:1}),l(u,{label:"发布时间"},{default:t(()=>[l(N,{modelValue:r.addTime,"onUpdate:modelValue":e[1]||(e[1]=a=>r.addTime=a),type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间",style:{width:"350px"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"类型"},{default:t(()=>[l(c,{modelValue:r.type,"onUpdate:modelValue":e[2]||(e[2]=a=>r.type=a),placeholder:"请选择类型",clearable:"",style:{width:"180px"}},{default:t(()=>[(f(),g(V,null,w(I,a=>l(b,{key:a,label:a.value,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"状态"},{default:t(()=>[l(c,{modelValue:r.state,"onUpdate:modelValue":e[3]||(e[3]=a=>r.state=a),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:t(()=>[(f(),g(V,null,w(k,a=>l(b,{key:a,label:a.value,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(u,null,{default:t(()=>[l(m,{type:"primary"},{default:t(()=>[...e[7]||(e[7]=[d("查询",-1)])]),_:1}),l(m,null,{default:t(()=>[...e[8]||(e[8]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(R,{ref:"tableRef",columns:y,"fetch-data":M(L)},{title:t(({row:a})=>[l(m,{link:"",type:"primary",onClick:e[4]||(e[4]=D=>_.value=!0)},{default:t(()=>[d(P(a.title),1)]),_:2},1024)]),state:t(({row:a})=>[l(Y,{type:a.state==="已解决"?"success":"danger"},{default:t(()=>[d(P(a.state),1)]),_:2},1032,["type"])]),operate:t(({row:a})=>[l(m,{link:"",type:"primary",onClick:D=>A(a)},{default:t(()=>[...e[9]||(e[9]=[d("详情",-1)])]),_:1},8,["onClick"]),l(m,{link:"",type:"primary"},{default:t(()=>[...e[10]||(e[10]=[d("编辑",-1)])]),_:1}),l(m,{link:"",type:"danger"},{default:t(()=>[...e[11]||(e[11]=[d("删除",-1)])]),_:1})]),_:1},8,["fetch-data"]),l(B,{modelValue:s.value,"onUpdate:modelValue":e[5]||(e[5]=a=>s.value=a),"detail-data":x.value},null,8,["modelValue","detail-data"]),l(G,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=a=>_.value=a)},null,8,["modelValue"])],64)}}});export{E as default};
