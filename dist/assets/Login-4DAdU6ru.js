import{d as y,r as v,b as u,c as p,a as i,f as r,e as t,u as w,a4 as W,a5 as F,_ as g,k as C,p as V,w as a,g as k,F as R,a6 as L,a7 as q,a0 as j,B as $,E as S,Z as D,n as E,a2 as J}from"./index-DSXWNbz6.js";const N="/dist/assets/login_title-BwVHLo0e.png",K={id:"header"},O={class:"right"},P=y({__name:"header",setup(l){const o=v(!1);return(s,n)=>{const c=u("el-switch");return i(),p("div",K,[n[2]||(n[2]=r("img",{src:N,class:"img_title",alt:"",srcset:""},null,-1)),r("div",O,[t(c,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=m=>o.value=m),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":w(F),"inactive-icon":w(W)},null,8,["modelValue","active-icon","inactive-icon"]),n[1]||(n[1]=r("i",{class:"icon iconfont icon-fanyi"},null,-1))])])}}}),H=g(P,[["__scopeId","data-v-e0538c30"]]),T={},X={id:"footer"};function z(l,o){return i(),p("div",X,[...o[0]||(o[0]=[r("span",null," 版权所有 ◎ 2021 -2024 youlai.tech 保留所有权利。皖ICP备20006496号-2 ",-1)])])}const Y=g(T,[["render",z],["__scopeId","data-v-77692ad0"]]),Z="/dist/assets/login_bg-BhkCABSr.jpg",G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQBAMAAAAVaP+LAAAAElBMVEVHcEx6pf96pf96o/96o/97o/8Pt1s1AAAABXRSTlMAfz/dXxFC4+EAAAEeSURBVGje7djRbcJAEEXReYgO0DSAlApcAiWg7b8VfpwI22sSdm8sVnr3M6CjQZDJhAjnnHMDlqWUiCjraj97emybKCiSgkRBkRQkCoqkIFFQvICqTzwE2sMNfTSU+2//4oP4KyQKWo/UDomCViN1QKKg5Ug90Ok6l53QT1+GXnSbpgmBVMqdeWlJQaKgSAoSBcVlAzXu7DMFhaFDIWH3Ubaffn+6vd+Hdm7vBkgUVL+9WyBRUHwk5Aat/j+goc2hS0CioPqXOdE4EgJV/6BE40gM5Eb+rvL5d6UZEgV9j9QPiYLmkQBIFLRcldE7EgEtVmX0joRA86oEErYZk4KE7eqkIP3HwWRoJCgpSNg1khQk7D7yXhp3LznnnDuqB9Ji/xpvUnncAAAAAElFTkSuQmCC",ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQBAMAAAAVaP+LAAAAD1BMVEVHcEx6pf97o/97o/97o//AVc6AAAAABHRSTlMAfdc6588X8wAAAP9JREFUaN7t2M0Jg0AYhOFvtIEctoAcLMAWXLb/mnIKOe33o0NgYd5zeBiMCq6ZUkqppcMxMvVX4Ow5Z4x++tA2sr19qKWhy4eOcPP3CnT/F+Hk3yWIoDMF7TGUvE0WhcK/XpCg6DVCgsCCrLEgsCATtCjUWBBYUDgpDYEFRZPyEFhQMKkAgQX5kyoQWJA7qQSBBXmTahBYkDOpCIEFzSdVIbCg6aQyBBY0m1SHwIImk25AYEHPvzWWg3YWtJGg+OM4fy9dN0457hwgpCf10yiTwkMWZxLlLIgFWWNBYEHWWBBoT3tjQWBB1mjnijpa/Wt6CSz6ElBKKaWUUkqt1get9boWWrC+ugAAAABJRU5ErkJggg==",te={class:"login_form"},oe=["src"],ne={key:0},se=y({__name:"LoginForm",props:{show:{type:Boolean,default:!0},defaultUsername:{type:String,default:"cpglyzh"},defaultPassword:{type:String,default:"cpglyzh"},showRememberMe:{type:Boolean,default:!0},showOtherLogin:{type:Boolean,default:!0}},setup(l){const o=l,s=v(!0),n=v(!1),c=v(),m=v(void 0),d=C({username:o.defaultUsername,pwd:o.defaultPassword,verifyCode:"",verifyCodeId:""}),U=C({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}],verifyCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}),B=async()=>{let f=await q();console.log("图形验证码",f),c.value=f.data.imageCode,d.verifyCodeId=f.data.id};B();const x=async()=>{m.value&&m.value.validate(async f=>{if(f){n.value=!0;try{let e=JSON.parse(JSON.stringify(d));const A=await j().userLogin(e);console.log("登录成功",A),A&&($.push("/"),S.success("登录成功"))}catch{S.error("登录失败，请检查账号密码"),B()}finally{n.value=!1}}})};return(f,e)=>{const A=u("el-input"),h=u("el-form-item"),b=u("el-checkbox"),I=u("el-button"),M=u("el-form"),Q=u("el-divider");return i(),p("div",te,[e[10]||(e[10]=r("div",{class:"form_title"},[r("div",{class:"title"},"账号登录")],-1)),t(M,{ref_key:"loginFormRef",ref:m,model:d,rules:U,"label-width":"auto"},{default:a(()=>[t(h,{prop:"username"},{default:a(()=>[t(A,{modelValue:d.username,"onUpdate:modelValue":e[0]||(e[0]=_=>d.username=_),placeholder:"用户名"},{prefix:a(()=>[...e[4]||(e[4]=[r("i",{class:"icon iconfont icon-icon-user"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),t(h,{prop:"password"},{default:a(()=>[t(A,{modelValue:d.pwd,"onUpdate:modelValue":e[1]||(e[1]=_=>d.pwd=_),type:"password",placeholder:"密码"},{prefix:a(()=>[...e[5]||(e[5]=[r("i",{class:"icon iconfont icon-jiesuo"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),t(h,{prop:"imgcode"},{default:a(()=>[t(A,{modelValue:d.verifyCode,"onUpdate:modelValue":e[2]||(e[2]=_=>d.verifyCode=_),placeholder:"验证码"},{prefix:a(()=>[...e[6]||(e[6]=[r("i",{class:"icon iconfont icon-anquanzhongxin"},null,-1)])]),suffix:a(()=>[r("img",{class:"imageCode",src:c.value,alt:"",srcset:""},null,8,oe)]),_:1},8,["modelValue"])]),_:1}),l.showRememberMe?(i(),p("div",ne,[t(b,{modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=_=>s.value=_),label:"记住我",size:"large"},null,8,["modelValue"])])):V("",!0),t(I,{type:"primary",loading:n.value,onClick:x},{default:a(()=>[...e[7]||(e[7]=[k(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model","rules"]),l.showOtherLogin?(i(),p(R,{key:0},[t(Q,null,{default:a(()=>[...e[8]||(e[8]=[k(" 其他登录方式 ",-1)])]),_:1}),e[9]||(e[9]=L('<div class="other" data-v-f7e01e95><i class="icon iconfont icon-weixin" data-v-f7e01e95></i><i class="icon iconfont icon-QQ" data-v-f7e01e95></i><i class="icon iconfont icon-shouji" data-v-f7e01e95></i><i class="icon iconfont icon-guge" data-v-f7e01e95></i></div>',1))],64)):V("",!0)])}}}),ae=g(se,[["__scopeId","data-v-f7e01e95"]]),re={data(){return{}},computed:{setSrc(){var l="https://open.weixin.qq.com/connect/qrconnect?appid="+this.appid+"&scope="+this.scope+"&redirect_uri="+this.redirect_uri+"&state="+this.state+"&login_type="+this.login_type+"&style="+this.theme+"&self_redirect="+this.self_redirect+"&href="+this.href;return l}},props:{appid:String,scope:String,redirect_uri:String,state:{type:String,default:""},theme:{type:String,default:"black"},href:{type:String,default:""},self_redirect:{type:String,default:"default"},login_type:{type:String,default:"jssdk"}}},ie=["src"];function le(l,o,s,n,c,m){return i(),p("div",null,[r("iframe",{sandbox:"allow-scripts allow-top-navigation allow-same-origin",scrolling:"no",width:"300",height:"400",frameBorder:"0",allowTransparency:"true",src:m.setSrc},null,8,ie)])}const ce=g(re,[["render",le]]),de={class:"logincontainer"},ue=y({__name:"Qrcode",setup(l){const s=C({appId:"wx2e43a29601556209",redirectUri:"http://web.quanjiu.net/care/wechat-login",state:window.crypto.getRandomValues(new Uint32Array(1))[0].toString(36)+Date.now(),style:"black",href:""});return(n,c)=>(i(),p("div",de,[t(w(ce),{appid:s.appId,scope:"snsapi_login",redirect_uri:s.redirectUri,href:s.href,state:s.state,style:D(s.style)},null,8,["appid","redirect_uri","href","state","style"])]))}}),pe=g(ue,[["__scopeId","data-v-5861b755"]]),me={id:"Main"},_e={class:"login_form"},ge=y({__name:"main",setup(l){const o=v(!1),s=()=>{o.value=!o.value};return(n,c)=>(i(),p("div",me,[c[0]||(c[0]=r("img",{class:"login_bg",src:Z,alt:"",srcset:""},null,-1)),r("div",_e,[o.value?(i(),p("img",{key:1,class:"QRcode",onClick:s,src:ee,alt:"",srcset:""})):(i(),p("img",{key:0,class:"QRcode",onClick:s,src:G,alt:"",srcset:""})),(i(),E(J(o.value?pe:ae)))])]))}}),fe=g(ge,[["__scopeId","data-v-ca317518"]]),Ae=y({__name:"Login",setup(l){return(o,s)=>{const n=u("el-header"),c=u("el-main"),m=u("el-footer"),d=u("el-container");return i(),E(d,null,{default:a(()=>[t(n,null,{default:a(()=>[t(H)]),_:1}),t(c,null,{default:a(()=>[t(fe)]),_:1}),t(m,null,{default:a(()=>[t(Y)]),_:1})]),_:1})}}}),ye=g(Ae,[["__scopeId","data-v-644d1848"]]);export{ye as default};
