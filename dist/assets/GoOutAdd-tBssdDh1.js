import{d as q,i as E,r as V,k as g,a as n,c as G,b as p,e,w as a,g as M,f as c,n as v,h as _,Q as O,_ as R}from"./index-D6YPj1KB.js";const S=q({__name:"GoOutAdd",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(C){const u=E(C,"modelValue"),r=V(),o=g({name:"",idCard:""}),h=g({name:[{required:!1,message:"请输入姓名",trigger:"blur"}],idCard:[{required:!1,message:"请输入身份证号",trigger:"blur"}]}),k=V([]),f=async()=>{_.info("查询功能待对接接口")},x=()=>{o.name="",o.idCard="",r.value&&r.value.clearValidate(),f()},w=d=>{if(!d||!d.id){_.error("请选择有效的老人信息");return}console.log("选择的老人信息：",d),O.push({path:"/addGoOut",query:{elderlyId:d.id,elderlyName:d.name}}),localStorage.setItem("elderlyId",d.id.toString()),localStorage.setItem("elderlyName",d.name||""),u.value=!1,_.success(`已选择老人：${d.name}`)},I=()=>{o.name="",o.idCard="",r.value&&r.value.clearValidate()};return(d,l)=>{const b=n("el-input"),i=n("el-form-item"),m=n("el-button"),N=n("el-form"),s=n("el-table-column"),y=n("el-avatar"),B=n("el-table"),F=n("el-dialog");return p(),G("div",null,[e(F,{modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=t=>u.value=t),title:"选择老人",width:"800",onClose:I},{default:a(()=>[M("div",null,[e(N,{ref_key:"ruleFormRef",ref:r,style:{"max-width":"600px"},model:o,rules:h,"label-width":"auto"},{default:a(()=>[e(i,{label:"姓名",prop:"name",style:{width:"300px"}},{default:a(()=>[e(b,{modelValue:o.name,"onUpdate:modelValue":l[0]||(l[0]=t=>o.name=t),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),e(i,{label:"身份证号",prop:"idCard",style:{width:"300px"}},{default:a(()=>[e(b,{modelValue:o.idCard,"onUpdate:modelValue":l[1]||(l[1]=t=>o.idCard=t),placeholder:"请输入身份证号"},null,8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(m,{type:"primary",onClick:f},{default:a(()=>[...l[3]||(l[3]=[c("查询",-1)])]),_:1}),e(m,{onClick:x},{default:a(()=>[...l[4]||(l[4]=[c("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),e(B,{data:k.value,style:{width:"100%"}},{default:a(()=>[e(s,{prop:"name",label:"姓名",width:"180"}),e(s,{label:"头像",width:"180"},{default:a(t=>[t.row.photo?(p(),v(y,{key:0,src:t.row.photo},null,8,["src"])):(p(),v(y,{key:1,icon:"el-icon-user"}))]),_:1}),e(s,{prop:"sex",label:"性别",width:"100"}),e(s,{prop:"idCard",label:"身份证号",width:"180"}),e(s,{fixed:"right",label:"操作","min-width":"120"},{default:a(t=>[e(m,{type:"primary",onClick:U=>w(t.row)},{default:a(()=>[...l[5]||(l[5]=[c("选择",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"])])}}}),$=R(S,[["__scopeId","data-v-6d80dbc0"]]);export{$ as default};
