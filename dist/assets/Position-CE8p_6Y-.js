import{r as k,b as v,c as x}from"./position-BwEY5D3f.js";import{T as _}from"./table-BDVlGf5e.js";import{d as w,r as d,b as B,n as T,a as A,w as o,e as l,g as s,u as $,h as p,E as r,B as u}from"./index-DSXWNbz6.js";const R=w({__name:"Position",setup(E){const f=[{type:"selection",width:"50"},{label:"序号",prop:"id",width:"100px"},{label:"角色名称",prop:"name"},{label:"关联账号",prop:"accountCounts"},{label:"创建人",prop:"addAccountName"},{label:"创建时间",prop:"addTime"},{label:"操作",slot:"operate",width:180,fixed:"right"}],i=d(null),m=async n=>{p.confirm("是否删除该条记录？",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(async()=>{r({type:"success",message:"删除成功"}),await v(n),i.value?.refresh()}).catch(()=>{r({type:"info",message:"已取消删除"})})},t=d([]),b=n=>{t.value=n.map(e=>e.id)},y=async()=>{t.value.length!==0&&(await p.confirm(`确定删除这${t.value.length}项数据吗? 删除后无法恢复`,"警告",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}),await x(t.value),t.value=[],i.value?.refresh(),r.success("删除成功"))},g=async()=>{u.push("/position-add")},h=n=>{u.push(`/position-edit/${n.id}`)};return(n,e)=>{const a=B("el-button");return A(),T(_,{ref_key:"tableRef",ref:i,columns:f,"fetch-data":$(k),onSelectionChange:b},{buttons:o(()=>[l(a,{type:"success",onClick:g},{default:o(()=>[...e[0]||(e[0]=[s("添加岗位",-1)])]),_:1}),l(a,{type:"danger",onClick:y,disabled:t.value.length===0},{default:o(()=>[...e[1]||(e[1]=[s("批量删除",-1)])]),_:1},8,["disabled"])]),operate:o(({row:c})=>[l(a,{link:"",type:"primary",onClick:C=>h(c)},{default:o(()=>[...e[2]||(e[2]=[s("修改",-1)])]),_:1},8,["onClick"]),l(a,{link:"",type:"danger",onClick:C=>m(c.id)},{default:o(()=>[...e[3]||(e[3]=[s("删除",-1)])]),_:1},8,["onClick"])]),_:1},8,["fetch-data"])}}});export{R as default};
