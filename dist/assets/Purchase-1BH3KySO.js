import{T as h}from"./table-BDVlGf5e.js";import{D as p,d as m,r as _,b,n as g,a as x,w as t,e as o,f as c,g as n,u as y,h as k,E as B,_ as w}from"./index-DSXWNbz6.js";const C=a=>p.get("/purchase/list",a),T=a=>p.delete(`/purchase/delete/${a}`),P=m({__name:"Purchase",setup(a){const l=_(null),i=()=>{l.value.refresh()},u=[{type:"selection",width:"50"},{label:"序号",prop:"id"},{label:"创建时间",prop:"addTime"},{label:"申请人",prop:"addAccountName"},{label:"品种",prop:"counts"},{label:"实际采购成本",prop:"purchasePrice"},{label:"状态",prop:"state"},{label:"操作",width:160,slot:"operate",fixed:"right"}],d=r=>{k.confirm("是否删除该条记录？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await T(r),B({type:"success"}),i()})};return(r,e)=>{const s=b("el-button");return x(),g(h,{ref_key:"tableRef",ref:l,columns:u,"fetch-data":y(C)},{buttons:t(()=>[o(s,{type:"success"},{default:t(()=>[...e[0]||(e[0]=[n("创建采购申请",-1)])]),_:1})]),operate:t(({row:f})=>[o(s,{link:"",type:"danger",onClick:v=>d(f.id)},{default:t(()=>[...e[1]||(e[1]=[c("i",{class:"iconfont icon-shanchu"},null,-1),n(" 删除 ",-1)])]),_:1},8,["onClick"]),o(s,{link:"",type:"primary"},{default:t(()=>[...e[2]||(e[2]=[c("i",{class:"iconfont icon-xiangqing"},null,-1),n(" 查看详情 ",-1)])]),_:1})]),_:1},8,["fetch-data"])}}}),V=w(P,[["__scopeId","data-v-64623214"]]);export{V as default};
