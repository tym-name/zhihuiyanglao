import{b as w}from"./building-CNUBr-fR.js";import{c as B}from"./convertToTree-Coeds9PE.js";import{d as C,k as D,r as s,l as V,U as f,o as x,b as n,n as y,a as L,w as i,f as P,e as o,u as I}from"./index-DSXWNbz6.js";const j=C({__name:"BedLeft",setup(R){const p={value:"value",label:"label",children:"children"},a=D({name:""}),c=s();V(()=>a.name,()=>{c.value.filter(a.name)},{deep:!0});const _=(e,l)=>e?l.label.includes(e):!0,m=s(f("listParams")),u=s(f("DialogData")),v=e=>{m.value&&e.children.length==0&&u.value&&(m.value.houseId=Number(e.value),u.value.houseName=String(e.label),u.value.houseId=Number(e.value))};let r=s([]),h=async()=>{let e=await w();r.value=B(e.data.list);const l=d=>d.map(t=>({label:t.name,value:t.id.toString(),children:t.children?l(t.children):void 0}));r.value=l(r.value)};return x(()=>{h()}),(e,l)=>{const d=n("el-input"),t=n("el-form-item"),b=n("el-tree"),g=n("el-form"),N=n("el-card");return L(),y(N,null,{default:i(()=>[l[1]||(l[1]=P("div",{class:"card-title"},"房间列表",-1)),o(g,{model:a,"label-width":"auto",style:{"margin-top":"20px"}},{default:i(()=>[o(t,null,{default:i(()=>[o(d,{placeholder:"请输入房间名称",clearable:"",modelValue:a.name,"onUpdate:modelValue":l[0]||(l[0]=k=>a.name=k)},null,8,["modelValue"])]),_:1}),o(t,null,{default:i(()=>[o(b,{style:{width:"100%"},onNodeClick:v,ref_key:"treeRef",ref:c,data:I(r),"filter-node-method":_,props:p},null,8,["data"])]),_:1})]),_:1},8,["model"])]),_:1})}}});export{j as default};
